{"ast":null,"code":"import axios from 'axios';\nconst loginApi = (data, setErrorMessage, setToken, setUserData) => {\n  try {\n    const BASE_API_URL = process.env.REACT_APP_API_BASE_URL || '';\n    const email = data.email;\n    const password = data.password;\n    axios.post(`${BASE_API_URL}/api/login`, {\n      email,\n      password\n    }).then(response => {\n      setUserData(response.data.userData);\n      setToken(response.data.token);\n    }).catch(error => {\n      setToken('');\n      setUserData({});\n      if (!!error.response && !!error.response.status) {\n        if (error.response.status === 400) {\n          setErrorMessage('Invalid email or password');\n        } else if (error.response.status === 401) {\n          setErrorMessage('Email not verified');\n        }\n      } else {\n        console.error(error);\n        setErrorMessage('Login failed');\n      }\n      return false;\n    });\n  } catch (error) {\n    setErrorMessage('Login failed');\n    setToken('');\n    setUserData({});\n    console.error(error);\n    return false;\n  }\n};\nexport { loginApi };","map":{"version":3,"names":["axios","loginApi","data","setErrorMessage","setToken","setUserData","BASE_API_URL","process","env","REACT_APP_API_BASE_URL","email","password","post","then","response","userData","token","catch","error","status","console"],"sources":["/Users/abdallahadel/gizasystems/frontend/src/api/login.js"],"sourcesContent":["import axios from 'axios';\nconst loginApi = (data, setErrorMessage, setToken, setUserData) => {\n    try {\n        const BASE_API_URL = process.env.REACT_APP_API_BASE_URL || '';\n        const email = data.email;\n        const password = data.password;\n        axios.post( `${BASE_API_URL}/api/login`, {\n            email,\n            password\n        }).then((response) => {\n            setUserData(response.data.userData);\n            setToken(response.data.token);\n        }).catch((error) => {\n            setToken('');\n            setUserData({});\n            if(!!error.response && !!error.response.status){\n                if(error.response.status === 400){\n                    setErrorMessage('Invalid email or password');\n                } else if(error.response.status === 401){\n                    setErrorMessage('Email not verified');\n                }\n            } else {\n                console.error(error);\n                setErrorMessage('Login failed');\n            }\n            return false;\n        });\n    } catch (error) {\n        setErrorMessage('Login failed');\n        setToken('');\n        setUserData({});\n        console.error(error);\n        return false;\n    }\n};\n\nexport { loginApi };"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAGA,CAACC,IAAI,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,WAAW,KAAK;EAC/D,IAAI;IACA,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,EAAE;IAC7D,MAAMC,KAAK,GAAGR,IAAI,CAACQ,KAAK;IACxB,MAAMC,QAAQ,GAAGT,IAAI,CAACS,QAAQ;IAC9BX,KAAK,CAACY,IAAI,CAAG,GAAEN,YAAa,YAAW,EAAE;MACrCI,KAAK;MACLC;IACJ,CAAC,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAK;MAClBT,WAAW,CAACS,QAAQ,CAACZ,IAAI,CAACa,QAAQ,CAAC;MACnCX,QAAQ,CAACU,QAAQ,CAACZ,IAAI,CAACc,KAAK,CAAC;IACjC,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAChBd,QAAQ,CAAC,EAAE,CAAC;MACZC,WAAW,CAAC,CAAC,CAAC,CAAC;MACf,IAAG,CAAC,CAACa,KAAK,CAACJ,QAAQ,IAAI,CAAC,CAACI,KAAK,CAACJ,QAAQ,CAACK,MAAM,EAAC;QAC3C,IAAGD,KAAK,CAACJ,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAC;UAC7BhB,eAAe,CAAC,2BAA2B,CAAC;QAChD,CAAC,MAAM,IAAGe,KAAK,CAACJ,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAC;UACpChB,eAAe,CAAC,oBAAoB,CAAC;QACzC;MACJ,CAAC,MAAM;QACHiB,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;QACpBf,eAAe,CAAC,cAAc,CAAC;MACnC;MACA,OAAO,KAAK;IAChB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOe,KAAK,EAAE;IACZf,eAAe,CAAC,cAAc,CAAC;IAC/BC,QAAQ,CAAC,EAAE,CAAC;IACZC,WAAW,CAAC,CAAC,CAAC,CAAC;IACfe,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;IACpB,OAAO,KAAK;EAChB;AACJ,CAAC;AAED,SAASjB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}